@* the manage UI is only meant for admins - so additional protection is added just in case it's on the wrong page *@
@if(Permissions.UserMayEditContent){
    var all = AsDynamic(Data["Links"]);
    var Lib = CreateInstance("_library.cshtml");
    var newKey = Lib.GenerateCode(App.Settings.GenerateKeyPrefix, (int)App.Settings.GenerateKeyLength, true);
     
    <link rel="stylesheet" href="@App.Path/assets/styles.css" data-enableoptimizations="bottom" />

    <div class="container-fluid app-shortlinks-wrapper">
        <div class="ly-container-inner">
            <div class="row">
                <div class="col-12">
                    <a href="http://app-dev.2sxc.org/shortlink-system/en-us">EN</a> | <a href="http://app-dev.2sxc.org/shortlink-system/de-de">DE</a>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    @RenderPage("_Shortlink-Table.cshtml", new {Links = all, Lib = Lib})

                    @RenderPage("_New-Buttons.cshtml", new { Lib = Lib})

                    <div class="configuration-info">
                        <h3>Shortlink Configuration</h3>
                        <ul>
                            <li>Real Domain: @(App.Settings.TargetProtocol)@(App.Settings.TargetDomain)</li>
                            <li>Test Domain: @(App.Settings.Protocol)@(App.Settings.ShortDomain)</li>
                            <li>Keyword Prefix: @(App.Settings.GenerateKeyPrefix)</li>
                            <li>Keyword length: @(App.Settings.GenerateKeyLength)</li>
                            <li>QR: 
                                <ul>
                                    <li>Background Color: @(App.Settings.QrBackgroundColor)</li>
                                    <li>Foreground Color: @(App.Settings.QrForegroundColor)</li>
                                    <li>Size: @(App.Settings.QrDimension)</li>
                                </ul>
                            </li>
                            <li>Web.config configuration <a href="@Link.To(parameters: "webconfig=true")">instructions</a></li>
                            <li>Configuration Complete: @(App.Settings.ConfigurationComplete == true ? "‚úîÔ∏è" : "üö´")
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
}
